(this.webpackJsonpplanner=this.webpackJsonpplanner||[]).push([[0],{212:function(e,t,a){e.exports=a(407)},370:function(e,t,a){},407:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(86),l=a.n(c),i=a(5),s=a(27),o=a(6),u=a(17),m=a.n(u),d=Object(o.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){var n,r;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.getFirebase,r=n(),t.next=4,m.a.awrap(r.auth().signOut());case 4:e({type:"SIGNOUT_SUCCESS"});case 5:case"end":return t.stop()}}))}))}}}))((function(e){var t=e.signOut,a=e.profile;return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/create"},"New Project")),r.a.createElement("li",null,r.a.createElement("button",{onClick:t},"Log Out")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/",className:"btn btn-floating pink lighten-1"},a.initials)))})),p=function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signin"},"Login")))},E=Object(o.b)((function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}}),null)((function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(d,{profile:a}):r.a.createElement(p,null);return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper grey darken-3"},r.a.createElement(i.b,{to:"/",className:"brand-logo"},"Planner"),n))})),f=a(21),h=a(14),b=a(46),v=a.n(b),g=function(e){var t=e.notifications;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"}),r.a.createElement("ul",{className:"notifications"},t&&t.map((function(e){var t=e.id,a=e.user,n=e.content,c=e.time;return r.a.createElement("li",{key:t},r.a.createElement("span",{className:"pink-text"},a," "),r.a.createElement("span",null,n),r.a.createElement("div",{className:"grey-text note-date"},v()(c.toDate()).fromNow()))}))))))},N=function(e){var t=e.project,a=t.authorFirstName,n=t.authorLastName,c=t.title,l=t.createdAt;return r.a.createElement("div",{className:"card z-depth-0 project-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"},c),r.a.createElement("p",null,"Posted by: ",a," ",n),r.a.createElement("p",{className:"grey-text"},v()(l.toDate()).calendar())))},j=function(e){var t=e.projects;return r.a.createElement("div",{className:"project-list section"},t&&t.map((function(e){return r.a.createElement(i.b,{key:e.id,to:"/project/"+e.id},r.a.createElement(N,{key:e.id,project:e}))})))},O=Object(h.d)(Object(o.b)((function(e){return console.log(e),{projects:e.firestore.ordered.projects,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),null),Object(f.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))((function(e){var t=e.projects,a=e.auth,n=e.notifications;return a.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(j,{projects:t})),r.a.createElement("div",{className:"col s12 m5 offset-m1"},r.a.createElement(g,{notifications:n})))):r.a.createElement(s.a,{to:"/signin"})})),y=Object(h.d)(Object(o.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{project:n?n[a]:null,auth:e.firebase.auth}}),null),Object(f.firestoreConnect)([{collection:"projects"}]))((function(e){var t=e.project,a=e.auth;if(t){var n=t.authorFirstName,c=t.authorLastName,l=t.content,i=t.title,o=t.createdAt;return a.uid?r.a.createElement("div",{className:"container section project-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"}," ",i),r.a.createElement("p",null,l)),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"Posted by: ",n," ",c),r.a.createElement("div",null,v()(o.toDate()).calendar())))):r.a.createElement(s.a,{to:"/signin"})}return r.a.createElement("div",{className:"container section project-details"},"Loading...")})),w=a(16),S=Object(o.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){var r,c;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.getFirebase,t.prev=1,c=r(),t.next=5,m.a.awrap(c.auth().signInWithEmailAndPassword(a.email,a.password));case 5:e({type:"LOGIN_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"LOGIN_ERROR",payload:t.t0});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}));var a}}}))((function(e){var t=e.signIn,a=e.authError,c=e.auth,l=Object(n.useState)(""),i=Object(w.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(w.a)(m,2),p=d[0],E=d[1];return c.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({email:o,password:p})},className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign in"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",value:o,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"button btn ping lighten-1 z-depth-0"},"Login"),r.a.createElement("div",{className:"red-text center"},a||null))))})),x=Object(o.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){var t=e.email,a=e.password,n=e.firstName,r=e.lastName;return function(e,c,l){var i,s,o,u,d;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return i=l.getFirebase,s=l.getFirestore,c.prev=1,o=i(),u=s(),c.next=6,m.a.awrap(o.auth().createUserWithEmailAndPassword(t,a));case 6:return d=c.sent,c.next=9,m.a.awrap(u.collection("users").doc(d.user.uid).set({firstName:n,lastName:r,initials:n[0]+r[0]}));case 9:e({type:"SIGNUP_SUCCESS"}),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),e({type:"SIGNUP_FAIL",payload:c.t0});case 15:case"end":return c.stop()}}),null,null,[[1,12]])}}(t))}}}))((function(e){var t=e.auth,a=e.signUp,c=e.authError,l=Object(n.useState)(""),i=Object(w.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(w.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(""),h=Object(w.a)(f,2),b=h[0],v=h[1],g=Object(n.useState)(""),N=Object(w.a)(g,2),j=N[0],O=N[1];return t.uid?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({email:o,password:p,firstName:b,lastName:j})},className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign in"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",value:o,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",value:j,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"button btn ping lighten-1 z-depth-0"},"Signup"),r.a.createElement("div",{className:"red-text center"},c?r.a.createElement("p",null,c):null))))})),C=a(35),F=Object(o.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a,n){var r,c,l,i;return m.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=n.getFirestore,n.getFirebase,s.prev=1,c=r(),l=a().firebase.profile,i=a().firebase.auth.uid,s.next=7,m.a.awrap(c.collection("projects").add(Object(C.a)({},e,{authorFirstName:l.firstName,authorLastname:l.lastName,authorId:i,createdAt:new Date})));case 7:t({type:"CREATE_PROJECT",payload:e}),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),t({type:"CREATE_PROJECT_ERROR",payload:s.t0});case 13:case"end":return s.stop()}}),null,null,[[1,10]])}}(t))}}}))((function(e){var t=e.createProject,a=e.auth,c=e.history,l=Object(n.useState)(""),i=Object(w.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(w.a)(m,2),p=d[0],E=d[1];return a.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:o,content:p}),c.push("/")},className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create New Project"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",value:o,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement("textarea",{id:"content",className:"materialize-textarea",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"button btn ping lighten-1 z-depth-0"},"Create")))):r.a.createElement(s.a,{to:"/signin"})}));a(370);var R=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",component:O,exact:!0}),r.a.createElement(s.b,{path:"/project/:id",component:y}),r.a.createElement(s.b,{path:"/signin",component:S}),r.a.createElement(s.b,{path:"/signup",component:x}),r.a.createElement(s.b,{path:"/create",component:F}))))},I=a(59),P=a.n(I),k=a(47),A=a(211),L={authError:null},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(C.a)({},e,{authError:"Login Failed"});case"LOGIN_SUCCESS":return Object(C.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return console.log("Signup success"),Object(C.a)({},e,{authError:null});case"SIGNUP_FAIL":return console.log(t.payload),Object(C.a)({},e,{authError:t.payload.message});default:return e}},_={projects:[{id:"1",title:"Help me find",content:"This is the content of id 1"},{id:"2",title:"Test me find",content:"This is the content of id 2"},{id:"3",title:"Kill me find",content:"This is the content of id 3"}]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;arguments.length>2&&arguments[2];switch(t.type){case"CREATE_PROJECT":case"CREATE_PROJECT_ERROR":default:return e}},G=Object(h.c)({auth:U,project:T,firebase:f.firebaseReducer,firestore:k.firestoreReducer});a(402),a(405);P.a.initializeApp({apiKey:"AIzaSyBNMRdVQWalRXfH5NRYsE2_N5e1xmhb3Ug",authDomain:"planner-86fd6.firebaseapp.com",databaseURL:"https://planner-86fd6.firebaseio.com",projectId:"planner-86fd6",storageBucket:"planner-86fd6.appspot.com",messagingSenderId:"84263011015",appId:"1:84263011015:web:8aeea398fe91de7d11f4e2",measurementId:"G-D5PHCMNGF6"});var z=P.a;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=[A.a.withExtraArgument({getFirebase:f.getFirebase,getFirestore:k.getFirestore})],B=Object(h.e)(G,{},Object(h.d)(h.a.apply(void 0,D),Object(k.reduxFirestore)(z))),J={firebase:P.a,config:{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},dispatch:B.dispatch,createFirestoreInstance:k.createFirestoreInstance};l.a.render(r.a.createElement(o.a,{store:B},r.a.createElement(f.ReactReduxFirebaseProvider,J,r.a.createElement((function(e){var t=e.children,a=Object(o.c)((function(e){return e.firebase.auth}));return Object(f.isLoaded)(a)?t:r.a.createElement("div",null,"splash screen...")}),null,r.a.createElement(R,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[212,1,2]]]);
//# sourceMappingURL=main.44a7af03.chunk.js.map